!function(){angular.module("ngC3Export.config",[]).value("ngC3Export.config",{debug:!0}),angular.module("ngC3Export",["ngC3Export.config"])}(angular),function(){"use strict";function e(e){return{restrict:"A",priority:1,controller:["$scope",function(e){e.config={exportedFileName:"c3 chart",removeDefs:!0}}],link:{post:function(t,n,r){var o=angular.element('<div class="exporter"><a class="savePNG"><i class="fa fa-download"></i></a></div>');r.exportedFileName&&(t.config.exportedFileName=r.exportedFileName),r.backgroundColor&&(t.config.backgroundColor=r.backgroundColor),r.removeDefs&&(t.config.removeDefs="true"===r.removeDefs),n.prepend(o),o.on("click",function(){e.createChartImages(n,t.config)})}}}}e.$inject=["ExportService"],angular.module("ngC3Export").directive("exportChart",e)}(),function(){"use strict";angular.module("ngC3Export").factory("ExportService",["StyleFactory",function(e){function t(t,o){var a=$(t),i=$(t.find("svg")).first()[0],l=angular.element(i.outerHTML)[0],c=angular.element('<canvas id="canvasOriginal"></canvas>')[0],u=angular.element('<svg id="emptysvg" xmlns="http://www.w3.org/2000/svg" version="1.1" height="2" />')[0],g=angular.element('<canvas id="canvasComputed"></canvas>')[0];o.removeDefs&&$(l).find("defs").remove(),c.width=a.width(),g.width=a.width(),c.height=a.height(),g.height=a.height();var s=angular.element('<div style="display: none;" class="c3"></div>');t.append(s),s.append(c),s.append(g),s.append(u),s.append(l),n(l,c);var d=e.exportStyles(c,g,l,u);n(l,d),r(a.find(".savePNG"),d,o.exportedFileName),c.remove(),g.remove(),u.remove(),l.remove()}function n(e,t){canvg(t,(new XMLSerializer).serializeToString(e))}function r(e,t,n){e.attr("href",t.toDataURL("png")).attr("download",function(){return n+".png"})}return{createChartImages:t}}])}(),function(){"use strict";angular.module("ngC3Export").factory("StyleFactory",function(){function e(t,n){if(n.push(t),t.hasChildNodes())for(var r=t.firstChild;r;)1===r.nodeType&&"SCRIPT"!=r.nodeName&&e(r,n),r=r.nextSibling;return n}function t(e,t){var n,r,o,a,i=getComputedStyle(e),l="";for(n=0,r=i.length;r>n;n++)o=i[n],a=i.getPropertyValue(o),a!==t.getPropertyValue(o)&&(l+="visibility"==o&&"hidden"==a?"display: none;":o+":"+a+";");e.setAttribute("style",l)}return{exportStyles:function(n,r,o,a){for(var i=[],l=getComputedStyle(a),c=e(o,i),u=c.length;u--;)t(c[u],l);return r}}})}();