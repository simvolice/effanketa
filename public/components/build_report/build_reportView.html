<div class="row" ng-controller="BuildReportCtrl">

    <div class="col-md-12">




        <md-content layout="column" flex class="custom__md-content__categ">



            <md-card>

                <div class="row">
                    <div class="col-md-12">
                        <h3 class="title text-center" style="text-transform: uppercase">{{ 'BUILD_REPORT' | translate }}</h3>

                    </div>

                </div>

            </md-card>


            <md-card>


                <div class="row" style="margin-left: 0;margin-top: 10px;">


                    <div class="col-md-6">
                        <md-input-container class="md-block" flex-gt-sm>
                            <label style="color: black">{{ 'SEARCH' | translate }}</label>
                            <input type="search" ng-model="search">
                        </md-input-container>


                    </div>


                </div>


                <div class="row" style="    margin-left: -5px;
    margin-top: -25px;
    margin-bottom: 25px;">
                    <div class="col-md-12">


                        <md-input-container style="width: 260px; margin-right: 20px">
                            <label>{{ 'SELECT_COUNTRY' | translate }}</label>
                            <md-icon class="material-icons">place</md-icon>
                            <md-select ng-model="country" ng-change="changeCountry(country)">

                                <md-option ng-repeat="y in allCountrys" ng-value="y._id">
                                    {{y.name}}
                                </md-option>
                            </md-select>
                        </md-input-container>




                        <md-input-container class="custom__select__margin">
                            <label>{{ 'SELECT_REPORT_PERIOD' | translate }}</label>
                            <md-icon class="material-icons">date_range</md-icon>
                            <md-select ng-model="period">

                                <md-option ng-repeat="y in allperiod" ng-value="y._id">
                                    {{y.name}}
                                </md-option>
                            </md-select>
                        </md-input-container>


                        <md-input-container style="width: 200px">
                            <label>{{ 'SELECT_YEAR' | translate }}</label>
                            <md-icon class="material-icons">date_range</md-icon>
                            <md-select ng-model="yearname">

                                <md-option ng-repeat="y in allyearname" ng-value="y._id">
                                    {{y.name}}
                                </md-option>
                            </md-select>
                        </md-input-container>





                        <md-button class="md-raised md-primary" ng-click="showModalWnd($event)">{{ 'BUILD_REPORT_BTN' | translate }}</md-button>
                        <md-button class="md-raised md-primary" ng-click="excel()">{{ 'EXPORT_EXCEL' | translate }}</md-button>

                    </div>

                </div>






                <div class="row" style="margin-left: 5px;margin-right: 5px;">
                    <div class="col-md-12 table-responsive">


                        <style type="text/css">
                            .tg  {border-collapse:collapse;border-spacing:0; width: 100%}
                            .tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
                            .tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
                            .tg .tg-e3zv{font-weight:bold}
                            .tg .tg-baqh{text-align:center;vertical-align:middle}
                            .tg .tg-hgcj{font-weight:bold;text-align:center}
                            .tg .tg-amwm{font-weight:bold;text-align:center;vertical-align:top}
                            .tg .tg-9hbo{font-weight:bold;vertical-align:top}
                        </style>
                        <table class="tg table-striped">
                            <tr>
                                <th class="tg-hgcj">â„–</th>
                                <th class="tg-hgcj">{{ 'COUNTRY' | translate }}</th>

                                <th class="tg-hgcj">{{ 'TYPE_PERIOD' | translate }}</th>
                                <th class="tg-hgcj">{{ 'YEAR' | translate }}</th>
                                <th class="tg-hgcj">{{ 'DATE_CREATE' | translate }}</th>



                                <th class="tg-hgcj">{{ 'VIEW' | translate }}</th>
                                <th class="tg-hgcj">{{ 'REFRESH' | translate }}</th>
                                <th class="tg-hgcj">{{ 'DELETE' | translate }}</th>

                            </tr>






                            <tbody>

                            <tr class="tg-baqh" ng-repeat="data in data | filter:search">






                                <td>{{data.id}}</td>

                                <td>{{data.country}}</td>
                                <td>{{data.typePeriod}}</td>
                                <td>{{data.year}}</td>

                                <td>{{data.createAt | date : "dd.MM.y"}}</td>





                                <td><md-button class="md-icon-button" aria-label="More">
                                    <i class="material-icons" ng-click="updateEvent(data, $event, $index)">visibility</i>
                                </md-button></td>

                                <td><md-button class="md-icon-button" aria-label="More">
                                    <i class="material-icons" ng-click="updateEvent(data, $event, $index)">done_all</i>
                                </md-button></td>

                                <td> <md-button class="md-icon-button" aria-label="More">
                                    <i class="material-icons" ng-click="delete(data, $index)">delete</i>
                                </md-button></td>



                            </tr>



                            </tbody>




                        </table>


                    </div>

                </div>








            </md-card>








        </md-content>








    </div>



</div>